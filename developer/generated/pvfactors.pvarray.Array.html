

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pvfactors.pvarray.Array &mdash; pvfactors 0.1.5+24.g5ce1047 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="pvfactors.pvarray.Array.update_view_factors" href="pvfactors.pvarray.Array.update_view_factors.html" />
    <link rel="prev" title="pvfactors.pvarray.ArrayBase" href="pvfactors.pvarray.ArrayBase.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> pvfactors
          

          
            
            <img src="../../_static/sp_2014_logo_all_white_LARGE.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.1.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started/index.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../theory/index.html">Theory</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Developer</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../pvfactors_demo.html">pvfactors: Jupyter notebook guide</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../api_reference.html">API Reference</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../api_reference.html#module-pvfactors.pvarray">pvfactors.pvarray</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../api_reference.html#classes">Classes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../api_reference.html#methods">Methods</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#module-pvfactors.pvcore">pvfactors.pvcore</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#module-pvfactors.pvgeometry">pvfactors.pvgeometry</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#module-pvfactors.pvrow">pvfactors.pvrow</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#module-pvfactors.timeseries">pvfactors.timeseries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#module-pvfactors.view_factors">pvfactors.view_factors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_reference.html#module-pvfactors.plot">pvfactors.plot</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../how_to.html">General modeling flow for single-point calculation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../whatsnew.html">What’s New</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">pvfactors</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Developer</a> &raquo;</li>
        
          <li><a href="../api_reference.html">API Reference</a> &raquo;</li>
        
      <li>pvfactors.pvarray.Array</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <!-- User defined GitHub URL -->
              <a href="https://github.com/SunPower/pvfactors/" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="pvfactors-pvarray-array">
<h1>pvfactors.pvarray.Array<a class="headerlink" href="#pvfactors-pvarray-array" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="pvfactors.pvarray.Array">
<em class="property">class </em><code class="descclassname">pvfactors.pvarray.</code><code class="descname">Array</code><span class="sig-paren">(</span><em>n_pvrows=3</em>, <em>pvrow_height=1.5</em>, <em>pvrow_width=1.0</em>, <em>surface_tilt=20.0</em>, <em>surface_azimuth=180.0</em>, <em>solar_zenith=0.0</em>, <em>solar_azimuth=180.0</em>, <em>rho_ground=0.2</em>, <em>rho_back_pvrow=0.05</em>, <em>rho_front_pvrow=0.03</em>, <em>gcr=0.3</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pvfactors/pvarray.html#Array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvfactors.pvarray.Array" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the array object. This will call the <a class="reference internal" href="pvfactors.pvarray.Array.update_view_factors.html#pvfactors.pvarray.Array.update_view_factors" title="pvfactors.pvarray.Array.update_view_factors"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update_view_factors()</span></code></a>
method which creates the shapely geometry and calculate the view
factors based on the inputs.
| Azimuth angles are counted positive going East from North. E.g. 0 deg is
North and 90 degrees is East.
| This assumes an equal spacing (or GCR) between all pv rows.
| This assumes that all pv rows have identical rotation angles.
| This assumes that all pv rows are at the same elevation (only x-values
| change from a pv row to another).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>n_pvrows</strong> (<em>int</em>) – number of PV rows in parallel</li>
<li><strong>pvrow_height</strong> (<em>float</em>) – height of PV rows, measured from ground to
center [meters]</li>
<li><strong>pvrow_width</strong> (<em>float</em>) – width of PV rows, in the considered 2D
dimension [meters]</li>
<li><strong>surface_tilt</strong> (<em>float</em>) – Surface tilt angles in decimal degrees.
surface_tilt must be &gt;=0 and &lt;=180.
The tilt angle is defined as degrees from horizontal
(e.g. surface facing up = 0, surface facing horizon = 90)</li>
<li><strong>surface_azimuth</strong> (<em>float</em>) – The azimuth of the rotated panel,
determined by projecting the vector normal to the panel’s surface
to the earth’s surface [degrees].</li>
<li><strong>solar_zenith</strong> (<em>float</em>) – zenith angle of the sun [degrees]</li>
<li><strong>solar_azimuth</strong> (<em>float</em>) – azimuth angle of the sun [degrees]</li>
<li><strong>rho_ground</strong> (<em>float</em>) – ground albedo</li>
<li><strong>rho_back_pvrow</strong> (<em>float</em>) – reflectivity of PV row’s back surface</li>
<li><strong>rho_front_pvrow</strong> (<em>float</em>) – reflectivity of PV row’s front surface</li>
<li><strong>gcr</strong> (<em>float</em>) – ground coverage ratio of the PV array</li>
<li><strong>kwargs</strong> (<em>dict</em>) – possible options are: <code class="docutils literal notranslate"><span class="pre">pvrow_class</span></code> if the user wants
to specify its own PV Row class; <code class="docutils literal notranslate"><span class="pre">cut</span></code> if the user wants to
discretize some pv rows, e.g. [(0, 5, ‘front’), (4, 2, ‘back’)]
will discretize the front surface of the first PV row into 5 segments,
and the back surface of the 5th pv row into 2 segments;
<code class="docutils literal notranslate"><span class="pre">calculate_front_circ_horizon_shading</span></code> is a boolean that indicates
whether to calculate front circumsolar &amp; horizon band shading or not;
<code class="docutils literal notranslate"><span class="pre">circumsolar_angle</span></code> would be the full (not half) angle of the
circumsolar disk; <code class="docutils literal notranslate"><span class="pre">horizon_band_angle</span></code> would be the horizon band
elevation angle</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pvfactors.pvarray.Array.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>n_pvrows=3</em>, <em>pvrow_height=1.5</em>, <em>pvrow_width=1.0</em>, <em>surface_tilt=20.0</em>, <em>surface_azimuth=180.0</em>, <em>solar_zenith=0.0</em>, <em>solar_azimuth=180.0</em>, <em>rho_ground=0.2</em>, <em>rho_back_pvrow=0.05</em>, <em>rho_front_pvrow=0.03</em>, <em>gcr=0.3</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pvfactors/pvarray.html#Array.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pvfactors.pvarray.Array.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>x.__init__(…) initializes x; see help(type(x)) for signature</p>
</dd></dl>

<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#pvfactors.pvarray.Array.__init__" title="pvfactors.pvarray.Array.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>([n_pvrows,&nbsp;pvrow_height,&nbsp;…])</td>
<td>x.__init__(…) initializes x; see help(type(x)) for signature</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="pvfactors.pvarray.Array.apply_front_circumsolar_horizon_shading.html#pvfactors.pvarray.Array.apply_front_circumsolar_horizon_shading" title="pvfactors.pvarray.Array.apply_front_circumsolar_horizon_shading"><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_front_circumsolar_horizon_shading</span></code></a>()</td>
<td>Calculate what amount of diffuse shading is happening on the circumsolar and horizon band components and apply it to all ‘front’ surfaces of pvrows.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="pvfactors.pvarray.Array.apply_horizon_band_shading.html#pvfactors.pvarray.Array.apply_horizon_band_shading" title="pvfactors.pvarray.Array.apply_horizon_band_shading"><code class="xref py py-obj docutils literal notranslate"><span class="pre">apply_horizon_band_shading</span></code></a>(pvrow_side)</td>
<td>Calculate the amount of diffuse shading happening on the horizon band components for the ‘back’ pvrow surfaces</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="pvfactors.pvarray.Array.calculate_interrow_direct_shading.html#pvfactors.pvarray.Array.calculate_interrow_direct_shading" title="pvfactors.pvarray.Array.calculate_interrow_direct_shading"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_interrow_direct_shading</span></code></a>(…)</td>
<td>Calculate inter-row direct shading and  break up PV row objects into shaded and unshaded parts.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="pvfactors.pvarray.Array.calculate_radiosities_perez.html#pvfactors.pvarray.Array.calculate_radiosities_perez" title="pvfactors.pvarray.Array.calculate_radiosities_perez"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_radiosities_perez</span></code></a>(solar_zenith,&nbsp;…)</td>
<td>Solve linear system of equations to calculate radiosity terms based on the specified inputs and using Perez diffuse light transposition model pre-calculated values</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="pvfactors.pvarray.Array.calculate_sky_and_reflection_components.html#pvfactors.pvarray.Array.calculate_sky_and_reflection_components" title="pvfactors.pvarray.Array.calculate_sky_and_reflection_components"><code class="xref py py-obj docutils literal notranslate"><span class="pre">calculate_sky_and_reflection_components</span></code></a>()</td>
<td>Assuming that the calculation of view factors and radiosity terms is completed, calculate the irradiance components of the isotropic sky dome and of the reflections from surrounding surfaces (pv rows and ground) for all the surfaces in the PV array.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="pvfactors.pvarray.Array.create_ill_ground.html#pvfactors.pvarray.Array.create_ill_ground" title="pvfactors.pvarray.Array.create_ill_ground"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_ill_ground</span></code></a>()</td>
<td>Create illuminated ground areas between shadows and add them to the line registry.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="pvfactors.pvarray.Array.create_pvrow_shadows.html#pvfactors.pvarray.Array.create_pvrow_shadows" title="pvfactors.pvarray.Array.create_pvrow_shadows"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_pvrow_shadows</span></code></a>(surface_azimuth,&nbsp;…)</td>
<td>Create the PV row shadows cast on the ground.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="pvfactors.pvarray.Array.create_pvrows_array.html#pvfactors.pvarray.Array.create_pvrows_array" title="pvfactors.pvarray.Array.create_pvrows_array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_pvrows_array</span></code></a>(n_pvrows,&nbsp;pvrow_height)</td>
<td>Create list of PV rows in array, counting from left to right.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="pvfactors.pvarray.Array.create_remaining_illum_ground.html#pvfactors.pvarray.Array.create_remaining_illum_ground" title="pvfactors.pvarray.Array.create_remaining_illum_ground"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_remaining_illum_ground</span></code></a>(edge_points)</td>
<td>Create the remaining illuminated parts of the ground, at the outer edges of the PV array.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="pvfactors.pvarray.Array.create_surface_registry.html#pvfactors.pvarray.Array.create_surface_registry" title="pvfactors.pvarray.Array.create_surface_registry"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_surface_registry</span></code></a>()</td>
<td>Create <code class="docutils literal notranslate"><span class="pre">surface_registry</span></code> attribute from <code class="xref py py-attr docutils literal notranslate"><span class="pre">line_registry</span></code>.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="pvfactors.pvarray.Array.create_view_matrix.html#pvfactors.pvarray.Array.create_view_matrix" title="pvfactors.pvarray.Array.create_view_matrix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_view_matrix</span></code></a>()</td>
<td>Create the <code class="docutils literal notranslate"><span class="pre">view_matrix</span></code> and the <code class="docutils literal notranslate"><span class="pre">args_matrix</span></code>, which records which surface sees which surface, as well as the “type” of view that it is, and potential “obstructing” objects.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="pvfactors.pvarray.Array.discretize_surfaces.html#pvfactors.pvarray.Array.discretize_surfaces" title="pvfactors.pvarray.Array.discretize_surfaces"><code class="xref py py-obj docutils literal notranslate"><span class="pre">discretize_surfaces</span></code></a>()</td>
<td>Discretize PV row surfaces using the inputs provided in the class constructor.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="pvfactors.pvarray.Array.find_edge_points.html#pvfactors.pvarray.Array.find_edge_points" title="pvfactors.pvarray.Array.find_edge_points"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_edge_points</span></code></a>()</td>
<td>Edge points are defined as the virtual intersection of the pvrow lines and the ground.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">initialize_registry</span></code>()</td>
<td>Create an empty line registry based on the property keys of PV Array lines.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="pvfactors.pvarray.Array.update_irradiance_terms_perez.html#pvfactors.pvarray.Array.update_irradiance_terms_perez" title="pvfactors.pvarray.Array.update_irradiance_terms_perez"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_irradiance_terms_perez</span></code></a>(solar_zenith,&nbsp;…)</td>
<td>Calculate the irradiance source terms of all surfaces using values pre-calculated from the Perez transposition model.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="pvfactors.pvarray.Array.update_reflectivity_matrix.html#pvfactors.pvarray.Array.update_reflectivity_matrix" title="pvfactors.pvarray.Array.update_reflectivity_matrix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_reflectivity_matrix</span></code></a>()</td>
<td>Update new surface registry with reflectivity values for all surfaces, and calculate inverse of the reflectivity matrix.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="pvfactors.pvarray.Array.update_view_factors.html#pvfactors.pvarray.Array.update_view_factors" title="pvfactors.pvarray.Array.update_view_factors"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_view_factors</span></code></a>(solar_zenith,&nbsp;…)</td>
<td>Create new line and surface registries based on new inputs, and re-cal- culate the view factor matrix of the updated system.</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">pvrow_distance</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">registry_cols</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">registry_numeric_cols</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">tilt</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pvfactors.pvarray.Array.update_view_factors.html" class="btn btn-neutral float-right" title="pvfactors.pvarray.Array.update_view_factors" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pvfactors.pvarray.ArrayBase.html" class="btn btn-neutral float-left" title="pvfactors.pvarray.ArrayBase" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Copyright 2016, SunPower Corporation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>